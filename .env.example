# =============================================================================
# ICS Cybersecurity Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment
# NEVER commit .env files to version control!

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
APP_NAME="ICS Cybersecurity Platform"
APP_VERSION=1.0.0

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Generate a secure secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-change-in-production-minimum-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production-minimum-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing
PASSWORD_HASH_ALGORITHM=bcrypt
PASSWORD_HASH_ROUNDS=12

# API Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# DATABASE SETTINGS
# =============================================================================
# PostgreSQL Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=ics_cybersecurity
POSTGRES_USER=ics_user
POSTGRES_PASSWORD=secure_password_123_change_in_production

# Database URL (constructed from above)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Database Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# REDIS SETTINGS
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_password_123_change_in_production
REDIS_DB=0
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Redis Cache Settings
CACHE_TTL=3600
CACHE_PREFIX=ics_platform

# =============================================================================
# CORS SETTINGS
# =============================================================================
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# =============================================================================
# FILE STORAGE SETTINGS
# =============================================================================
PCAP_STORAGE_DIR=/app/data/pcap
ML_MODEL_DIR=/app/data/models
UPLOAD_MAX_SIZE=100MB
ALLOWED_PCAP_EXTENSIONS=.pcap,.pcapng,.cap

# =============================================================================
# MACHINE LEARNING SETTINGS
# =============================================================================
ML_MODEL_UPDATE_INTERVAL=3600
ML_BATCH_SIZE=32
ML_LEARNING_RATE=0.001
ML_EPOCHS=100
ML_VALIDATION_SPLIT=0.2

# Model Paths
LSTM_MODEL_PATH=/app/data/models/lstm_model.pth
CNN_MODEL_PATH=/app/data/models/cnn_model.pth
SCALER_PATH=/app/data/models/scaler.pkl

# =============================================================================
# NETWORK CAPTURE SETTINGS
# =============================================================================
PCAP_INTERFACE=eth0
PCAP_BUFFER_SIZE=1024
PCAP_TIMEOUT=1000
PCAP_MAX_PACKETS=10000
PCAP_FILTER=""

# =============================================================================
# THREAT DETECTION SETTINGS
# =============================================================================
THREAT_DETECTION_ENABLED=true
THREAT_THRESHOLD_LOW=0.3
THREAT_THRESHOLD_MEDIUM=0.6
THREAT_THRESHOLD_HIGH=0.8
THREAT_ALERT_COOLDOWN=300

# =============================================================================
# MONITORING SETTINGS
# =============================================================================
# Prometheus
PROMETHEUS_PORT=9090
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin_password_123_change_in_production
GRAFANA_DOMAIN=localhost

# Health Check
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# LOGGING SETTINGS
# =============================================================================
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs/app.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily

# Elasticsearch (optional)
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_INDEX=ics-logs

# =============================================================================
# EMAIL NOTIFICATIONS
# =============================================================================
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true
EMAIL_FROM=noreply@yourdomain.com
EMAIL_ADMIN=admin@yourdomain.com

# =============================================================================
# WEBHOOK NOTIFICATIONS
# =============================================================================
WEBHOOK_ENABLED=false
WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_TIMEOUT=30

# =============================================================================
# INDUSTRIAL PROTOCOL SETTINGS
# =============================================================================
# Modbus
MODBUS_ENABLED=true
MODBUS_PORT=502
MODBUS_TIMEOUT=5

# DNP3
DNP3_ENABLED=true
DNP3_PORT=20000
DNP3_TIMEOUT=5

# IEC 61850
IEC61850_ENABLED=true
IEC61850_PORT=102
IEC61850_TIMEOUT=5

# =============================================================================
# FRONTEND SETTINGS
# =============================================================================
REACT_APP_API_URL=http://localhost:8000
REACT_APP_ENVIRONMENT=production
REACT_APP_VERSION=1.0.0
REACT_APP_WEBSOCKET_URL=ws://localhost:8000/ws

# =============================================================================
# SSL/TLS SETTINGS
# =============================================================================
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem
SSL_DHPARAM_PATH=/etc/nginx/ssl/dhparam.pem

# =============================================================================
# BACKUP SETTINGS
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# =============================================================================
# DEVELOPMENT SETTINGS (only for development)
# =============================================================================
DEV_RELOAD=false
DEV_DEBUG_SQL=false
DEV_MOCK_DATA=false
DEV_SKIP_AUTH=false